#integrate files to classpath
-cp src

-main Main
--php-front joomlahaxe.php
-php bin/com_joomlahaxe/site


--next
# Add the View 
-cp src
# This class name needs to reflect the folder structure of the Joomla view. Joomlahaxe(component name) + View + Joomlahaxe(folder name of this view)
# Joomla will 
-main JoomlahaxeViewJoomlahaxe
--php-front view.html.php 	
--php-lib ../../lib
-php bin/com_joomlahaxe/site/views/joomlahaxe


--next
# Add the admin controls
-cp src
-main MainAdmin
--php-front joomlahaxe.php
-php bin/com_joomlahaxe/admin

# --next
# -cp src
# -main JoomlahaxeController
# --php-front controller.php
# -php bin/com_joomlahaxe/site





#Add debug information
-debug

#dead code elimination : remove unused code
#"-dce no" : do not remove unused code
#"-dce std" : remove unused code in the std lib (default)
#"-dce full" : remove all unused code
-dce full


#TODO: make it use ant to package: https://docs.joomla.org/Building_Joomla_Extensions_with_Apache_Ant

-cmd (perl -pi -e 's/JoomlahaxeViewJoomlahaxe::main\(\);/require_once dirname\(__FILE__\)\."\/..\/..\/lib\/JoomlahaxeViewJoomlahaxe.class.php";/g' /Users/allan/Documents/haXe/JoomlaHaxeTest/bin/com_joomlahaxe/site/views/joomlahaxe/view.html.php)


-cmd (perl -pi -e 's/(MainAdmin)/require_once dirname\(__FILE__\)."\/lib\/MainAdmin.class.php";\r\1/g' /Users/allan/Documents/haXe/JoomlaHaxeTest/bin/com_joomlahaxe/admin/joomlahaxe.php)

-cmd (find . -name '.DS_Store' -print0 | xargs -t0 rm)

#TODO: automate creation of empty index.html files in every directory

#-cmd (cp -r /Users/allan/Documents/haXe/JoomlaHaxeTest/bin/com_joomlahaxe/site/* /Applications/MAMPold/htdocs_artworks/components/com_joomlahaxe/)


# -cmd (rm -f /Applications/MAMPold/htdocs_artworks/components/com_joomlahaxe/joomlahaxe.php)
# -cmd (rm -f /Applications/MAMPold/htdocs_artworks/components/com_joomlahaxe/joomlahaxeview.php)
# -cmd (rm -r -f /Applications/MAMPold/htdocs_artworks/components/com_joomlahaxe/lib/)
# -cmd (mv -f /Users/allan/Documents/haXe/JoomlaHaxeTest/bin/com_joomlahaxe/site/joomlahaxe.php /Applications/MAMPold/htdocs_artworks/components/com_joomlahaxe/joomlahaxe.php)
# -cmd (mv -f /Users/allan/Documents/haXe/JoomlaHaxeTest/bin/com_joomlahaxe/site/joomlahaxeview.php /Applications/MAMPold/htdocs_artworks/components/com_joomlahaxe/joomlahaxeview.php)
# -cmd (mv -f /Users/allan/Documents/haXe/JoomlaHaxeTest/bin/com_joomlahaxe/site/lib /Applications/MAMPold/htdocs_artworks/components/com_joomlahaxe/)

-cmd (cd /Users/allan/Documents/haXe/JoomlaHaxeTest/bin/ && zip -r com_joomlahaxe.zip com_joomlahaxe)